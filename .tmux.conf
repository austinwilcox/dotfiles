#Set prefix from C-b to C-a
set -g prefix C-a
unbind C-b

#This will allow me to send C-a down to vim if I need to by pressing the combo twice
bind C-a send-prefix

#Setting the delay between the prefix and command
#If I toggle this to shorter it interferes with vim commands
set -sg escape-time 10

# Start the counting of windows at 1 instead of 0, which is the default
set -g base-index 1

# Start the counting of panes at 1 instead of 0, which is the default
setw -g pane-base-index 1

# Vertical Split panes in tmux
bind | split-window -h
# Horizontal Split panes in tmux
bind - split-window -v

# Remap moving panes to Vim keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Allow the mouse to scroll and select windows/panes
set -g mouse off

# Reload the tmux config
bind r source-file ~/.tmux.conf \; display "Tmux has been Reloaded!"

# Set the default terminal colors to use 256
set -g default-terminal "screen-256color"

# set-option -g status on
# set-option -g status-interval 2
# set-option -g status-justify "centre"
# set-option -g status-left-length 80
# set-option -g status-right-length 90
# set-option -g status-left "#(~/Software/tmux-powerline/powerline.sh left)"
# set-option -g status-right "#(~/Software/tmux-powerline/powerline.sh right)"
# set-hook -g session-created 'run-shell "~/path/to/tmux-powerline/powerline.sh init"' # prettifies the window-status segments

# Background color is black, and font color is Arbinger Blue
set -g status-style 'bg=black fg=#00a6e2'
# Set the color of the window list
setw -g window-status-style fg=#00a6e2,bg=black
# Set the color of the active window in the list
setw -g window-status-current-style fg=white,bold,bg=red

# Set colors for panes
# setw -g pane-border-style fg=green,bg=black
# setw -g pane-active-border-style fg=white,bg=yellow

# active pane is normal, others are shaded out
setw -g window-style fg=colour240,bg=colour235
setw -g window-active-style fg=white,bg=black

# Command/Message line
set -g message-style fg=white,bold,bg=black

# Status line left side to show Session:window:pane
set -g status-left-length 40
set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P"

# Status line right side - 31-oct 13:37
set -g status-right "#[fg=cyan]%d %b %R #{pomodoro_status}"

setw -g mode-keys vi

# Options
set -g @pomodoro_start 'o'                          # Start a Pomodoro with tmux-prefix + p
set -g @pomodoro_cancel 'O'                         # Cancel a Pomodoro with tmux-prefix key + P

set -g @pomodoro_mins 25                            # The duration of the pomodoro
set -g @pomodoro_break_mins 5                       # The duration of the break after the pomodoro

set -g @pomodoro_on " #[fg=red]üçÖ "           # The formatted output when the pomodoro is running
set -g @pomodoro_complete " #[fg=green]üçÖ "   # The formatted output when the break is running

set -g @pomodoro_notifications 'on'                 # Turn on/off desktop notifications

# List of plugins
# tmux-prefix I (capital I - to fetch the plugin and install it)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'olimorris/tmux-pomodoro-plus'

# This has to be the last line
run '~/.tmux/plugins/tpm/tpm'
